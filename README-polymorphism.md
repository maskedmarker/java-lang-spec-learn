# 多态

## 多态的实现
在 Java 中,多态性是在字节码层面通过虚方法表（Virtual Method Table）来实现的.
虚方法表是 Java 虚拟机在加载类的时候创建的一张表,用于存储类的方法信息,包括方法的地址等.

具体来说,Java 中的多态是通过动态绑定（Dynamic Binding）来实现的,也称为后期绑定（Late Binding）.在运行时,虚拟机能够根据对象的实际类型来决定调用哪个版本的方法.

以下是多态在字节码层面的简要实现方式：
虚方法表： 
每个类在加载到内存时都会创建一个虚方法表.虚方法表中包含了该类中所有非私有、非静态、非 final 的方法的地址.
对于子类而言,它会继承父类的虚方法表,并且可以重写其中的方法.如果子类重写了父类的方法,那么在子类的虚方法表中会更新相应方法的地址为子类中的方法地址.
动态绑定： 
在运行时,当调用一个方法时,虚拟机会根据对象的实际类型在虚方法表中查找对应方法的地址.
如果找到了,则直接跳转到该地址执行方法.如果没有找到,则会向上查找父类的虚方法表,直到找到方法为止.这样,无论是父类的引用指向子类对象,还是通过接口引用实现类对象,都可以根据实际类型调用相应的方法.
通过这种方式,Java 实现了多态性,使得相同的方法调用在不同的对象上产生不同的行为.这种动态绑定的特性使得 Java 具有灵活性和可扩展性.
